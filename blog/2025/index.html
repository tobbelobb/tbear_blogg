
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, minimum-scale=1">
      <meta name="theme-color" content="#FBE8A6">
      <meta name="author" content="Torbjorn Ludvigsen">
      <meta name="keywords" content="Reprap, blog, development">
      <meta name="description" content="Reprap blog">
      <meta property="og:type" content="website">
      <meta property="og:title" content="Torbjorn Ludvigsen">
      <meta property="og:url" content="https://torbjornludvigsen.com/blog/2025">
      <link rel="canonical" href="https://torbjornludvigsen.com/blog/2025">
      <meta property="og:description" content="Reprap blog">
      <meta property="og:image" content="https://torbjornludvigsen.com/media/torbjornludvigsen.JPG">
      <meta name="twitter:card" content="summary">
      <meta name="twitter:site" content="@tobbelobb">
      <meta name="twitter:creator" content="@tobbelobb">
      <link rel="preload" href="/fonts/OpenSansRegular.woff" as="font" type="font/woff" crossorigin="anonymous">
      <link rel="stylesheet" href="/styles/common_style.css" type="text/css">
      <link rel="stylesheet" href="/styles/xsl_style.css" type="text/css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <link rel="apple-touch-icon" sizes="180x180" href="/media/apple-touch-icon.png">
      <link rel="icon" type="image/png" sizes="32x32" href="/media/favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="16x16" href="/media/favicon-16x16.png">
      <link rel="manifest" href="/site.webmanifest">
      <meta name="theme-color" media="(prefers-color-scheme: light)" content="#fffff">
      <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#212121">
      <link rel="mask-icon" href="/media/safari-pinned-tab.svg" color="#ffffff">
      <meta name="msapplication-TileColor" content="#fffff"><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script><title>Torbjorn Ludvigsen|Blog</title>
   </head>
   <body>
      <div class="sticky">
         <nav>
            <ul>
               <li class="navbar-left"><a href="/">Torbj&oslash;rn</a></li>
               <li class="navbar-right">
                  <div class="my-dropdown" data-dropdown=""><button class="link" data-dropdown-toggle="">Menu</button><div class="my-dropdown-menu" data-dropdown-menu="">
                        <div class="dropdown-inside-slideout"><a href="/shop" data-dropdown-toggle="">
                              Shop
                              </a><button class="link mini-shop-toggle" data-mini-shop-toggle="">
                              &gt;
                              </button><div class="mini-shop" data-mini-shop=""><a href="/shop/Cups" data-dropdown-toggle="">
                                 Cups
                                 </a><a href="/shop/Disaster_under_Water" data-dropdown-toggle="">
                                 Disaster under Water
                                 </a><a href="/shop/Corals" data-dropdown-toggle="">
                                 Corals
                                 </a><a href="/shop/Heart_of_the_Ocean" data-dropdown-toggle="">
                                 Heart of the Ocean
                                 </a></div>
                        </div><a href="/blog" data-dropdown-toggle="">
                           Blog
                           </a><a href="/pages/about" data-dropdown-toggle="">
                           About
                           </a><a href="/pages/donate" data-dropdown-toggle="">
                           Donate
                           </a><button class="link dark-mode-toggle" id="dark-mode-toggle" aria-label="toggle dark mode" value="Toggle dark mode">
                           Light/Dark
                           </button></div>
                  </div>
               </li>
            </ul>
         </nav>
      </div><script src="/js/darkmode.js"></script><div id="SiteName">
         Reprap Blog 2025
      </div>
      <div class="h-feed" id="MainContent">
         <article class="h-entry">
            <h1 class="p-name" id="hangprinter_project_84">2025, the year I made hp-sim5</h1>
            <div class="date">17-12-2025</div>
            <p>
               I spent 2025 simulating Hangprinter.
                   
            </p>
            <p>
               Before 2025 I envisioned
               giving normal people economically useful machines via the Hangprinter Project and its community, kind of like this:
                   
            </p>
            <figure>
                     <a href="/blog/2025/bilder/Me_to_people_1.png">
                          <img src="/blog/2025/bilder/Me_to_people_1_small.png" alt="" width="500" height="333">
                        </a>
                     
               <figcaption>
                        
               </figcaption>
                   
            </figure>
            <p>
                     The improvement loops were weak, this didn't work well enough.
                     My updated understanding is that AIs will get robots first, before normal people gets them:
                   
            </p>
            <figure>
                     <a href="/blog/2025/bilder/Me_to_people_2.png">
                          <img src="/blog/2025/bilder/Me_to_people_2_small.png" alt="" width="500" height="333">
                        </a>
                     
               <figcaption>
                        
               </figcaption>
                   
            </figure>
            <p>
                     This is the way for every product or project.
                     AI is powerful and it is not going away.
                     
               <!--Our job is to steer this scenario towards humane outcomes.-->
                   
            </p>
            <p>
                     So I'm adapting the Hangprinter Project to the AI future.
                     In 2024 I wanted to automate the whole Hangprinter Project, starting with support agents
                     (see <a href="https://gitlab.com/tobben/hp-orchestra">hp-support</a> and <a href="https://chatgpt.com/g/g-675950c5f6e8819182c77f88867191dd-hangprinter-knowledge-hub">Hangprinter Knowledge Hub</a>).
                     In 2025 my focus has shifted from "automate the Hangprinter Project" to "insert Hangprinter into the new age".
                     AIs are not independently self-improving yet, so neither is Hangprinter.
                   
            </p>
            <p>
                     But the intelligence explosion is still expanding, and whatever the AIs can't see, control, or optimize will soon be
               left in a category that has no name yet but will be described as
                     unoptimized, hobbyist, micro-scale, handi-craft, uneconomical, manual, niche, old-fashioned, antique, part of History,
               slow, weak, hard, dumb, irrelevant, you get the idea.
                   
            </p>
            <figure>
                     <a href="/blog/2025/bilder/What_does_it_mean.png">
                          <img src="/blog/2025/bilder/What_does_it_mean_small.png" alt="" width="500" height="333">
                        </a>
                     
               <figcaption>
                        
               </figcaption>
                   
            </figure>
            <h3>What Does it Mean for Hangprinter to "Fit Into the AI Age"?</h3>
            <p>
                     What we call AI can be often be described as "simulating an interesting process", most often based on process output
               examples,
                     and then harvesting some artifacts, side-effects or breadcrumbs dropped from the simulation.
                   
            </p>
            <p>
                     The most relevant AIs of 2024 simulated text generation, the process previously known as "writing".
                     They can also simulate "thinking", "painting", "speaking", "trading", "driving", "walking" and so on.
                     Even evolution and the weather are simulated all the time. We just call it "hw design" and "weather forecasts".
                     Sometimes, if the simulations are very static, simple, or bare-bones we sometimes call them "optimization" or "statistical
               regressions".
                   
            </p>
            <p>
                     So for Hangprinter to merge with the singularity we need to fully embrace the simulation paradigm.
                     Complex simulations of complex processes.
                     Making Hangprinter available to AI in 2025 simply meant building a simulation environment, and ignoring the physical
               parts of the project altogether.
                   
            </p>
            <p>
                     Everything will be done in this simulation environment: The hardware, the software, the physics, the gcode execution.
                     We can even imagine debugging market dynamics down to individual businesses and so on.
                     Our physical machines and their outputs will simply be side effects from this perspective.
                   
            </p>
            <p>
                     
               <!--From the community's perspective, my work has been invisible.-->
                     So I named the simulation environment "hp-sim" and went into the rabbit hole of creating it.
                     My community engagement stats that were already declining since 2021 went to zero in 2025.
                     No Twitter, no Youtube, no email, (almost) no blog posts.
                   
            </p>
            <p>
                     The focus has paid off.
                   
            </p>
            <figure>
                     <a href="/blog/2025/bilder/github_contributions_per_year_2.png">
                          <img src="/blog/2025/bilder/github_contributions_per_year_2_small.png" alt="" width="500" height="248">
                        </a>
                     
               <figcaption>
                          2025 has been my most productive year in terms of Github Contributions, beating the second place by a factor of 2.67.
                          This graph shows all my work, not just Hangprinter work.
                          Ca 50% of the total technical Hangprinter work ever done was work within 2025 alone.
                        
               </figcaption>
                   
            </figure>
            <h3>What Have I Delivered?</h3>
            <p>
                     Simulating Hangprinter in 2025 is very hard. (In 2024 is was impossible, in 2027 it will probably be trivial.)
                     The resulting <a href="https://github.com/tobbelobb/hp-sim5">hp-sim5 repo</a> is called hp-sim5 because four attempts before it failed:
                   
            </p>
            <ul>
                     
               <li>hp-simulator-chrono (22 Jan, 2025 - 27 Jan, 2025). I invented ANCF rope simulation in here. Interesting, maybe even novel
                  and realistic to model a line as one or a few thin weak beams in parallel, with separately tunable bending stiffness and axial
                  (pull) stiffness. Friction between strands add bending resistance. However, way too slow for realtime. RIP.
               </li>
                     
               <li>hp-sim2 (Feb 11, 2025 - Feb 12, 2025). An attempt to extract a core of Chrono simulator into modern C++ to speed things up.
                  RIP.
               </li>
                     
               <li>hp-sim3 (Feb 23, 2025). An attempt to use a template for Isaac Lab projects, and shoe-horn Hangprinter in there to get reinforcement
                  learning (RL) control going. Failed because the environment didn't have any primitives for ropes/lines/cables. RIP
               </li>
                     
               <li>hp-sim4 (Mar 3, 2025 - Apr 2, 2025). An attempt to build ropes in Isaac Sim (the physics environment that Isaac Lab uses).
                  Failed because the physics engine was too heavily geared towards rigid bodies, and good lines could not be contructed as chains
                  of rigid bodies. RIP
               </li>
                   
            </ul>
            <p>
                     Luckily, hp-sim4 led me to Mattias M&uuml;ller's work on rope simulations. First his long distance joints and later his XPBD
               and CableJoints, which was performant and physically accurate cable simulations.
                     Finally, exactly what hp-sim needed.
                   
            </p>
            <p>
                     No open source implementations of CableJoints existed, so for ca two and a half months (Apr 3, 2025 - Jun 24, 2025),
               I implemented a 2d version of a CableJoints and an XPBD physics engine.
                     Inputs, outputs, rendering, double implementations in Python and Javascript, CI testing, user interaction, constraints,
               friction, etc.
                     End-to-end, specialized to our needs.
                   
            </p>
            <figure>
                     <a href="/blog/2025/bilder/flipper.png">
                          <img src="/blog/2025/bilder/flipper_small.png" alt="" width="500" height="675">
                        </a>
                     
               <figcaption>
                          I created this flipper game to stress test the physics engines and the CableJoint implementations.
                          You can play (the js version of) it <a href="https://tobbelobb.github.io/hp-sim5/examples/js/flipper/index.html">here</a>.
                        
               </figcaption>
                   
            </figure>
            <p>
                     Then, with the Slideprinter modelled, lines and all, it needed control software. We needed a 3d printer firmware inside
               the simulator.
                     I spent 10 days implementing a custom firmware that work both with the Python and the Javascript CableJoint libraries.
                   
            </p>
            <p>
                     I knew I needed real firmware though, so after Summer (September 9 and one week onwards) I tried to simulate a realtime
               AVR processor on my desktop machine and run Klipper on it.
                     I could not reliably simulate a realtime chip on my non-realtime linux kernel. No matter how much buffering and other
               synchronization I added, I could never make that combo deterministic.
                     I even installed a realtime version of the linux kernel on my desktop before finally backing off from the idea of simulating
               the whole AVR processor.
                   
            </p>
            <p>
                     Klipper already had rudimentary Hangprinter support and good tools for running or debugging on host.
                     So adding basic Klipper firmware control via "batch dump files", basically just long lists of motor commands and time
               stamps, was very easy.
                     I spent ca 1 month improving the user interface, adding different Slideprinter designs, implementing quality control,
               support for parallel simulations etc.
                   
            </p>
            <figure>
                     <a href="/blog/2025/bilder/hp_sim5_timeline_2025_callouts_v5.png">
                          <img src="/blog/2025/bilder/hp_sim5_timeline_2025_callouts_v5_small.png" alt="" width="500" height="274">
                        </a>
                     
               <figcaption>
                          The different work periods plotted on a timeline. It's too small to read but click it to get a larger version.
                        
               </figcaption>
                   
            </figure>
            <p>
                     The quality control made it possible to track if a firmware change improved print quality or not, so it was time to
               improve firmware.
                     I spent one weeks developing two brand new flex compensation algorithms and implementing them into Klipper (Oct 10,
               2025 - Oct 17, 2025).
                     It's way better than the legacy flex compensation in every way. Details here: <a href="https://github.com/Klipper3d/klipper/pull/7093">a Klipper PR</a>.
                   
            </p>
            <p>
                     Now, Klipper is great but I didn't want it to be the only firmware in hp-sim.
                     I wanted hp-sim to support ReprapFirmware as well.
                     However, ReprapFirmware had no support for running on host (desktop machines) or dumping lists of time stamped motor
               commands.
                     I wrote a <a href="https://github.com/tobbelobb/hp-sim5/blob/34872dabe10725f537f26bf2cdec89355ff9139e/human_docs/roadmap_18_oct_2025.md">roadmap</a> and went on to
                     spend a full month on adding ReprapFirmware batch mode support (Oct 19, 2025 - Nov 20, 2025).
                   
            </p>
            <p>
                     With the new flex compensation algorithms, both Klipper and ReprapFirmware almost supported 8 anchors.
                     They just lacked a proper forward transform.
                     So I spend one week (Nov 25, 2025 - Dec 1, 2025) implementing a forward transform thats way way superior in every way,
               compared to what was available before.
                   
            </p>
            <p>
                     On Dec 1 2025 Klipper got the remaining parts of Hangprinter support that only ReprapFirmware had before (buildup compensation,
               block-and-tally style gearing, etc).
                   
            </p>
            <figure>
                     <a href="/blog/2025/bilder/AI_nonsense.png">
                          <img src="/blog/2025/bilder/AI_nonsense_small.png" alt="" width="500" height="333">
                        </a>
                     
               <figcaption>
                          The surrounding paragraphs captured in this beautiful AI slop.
                        
               </figcaption>
                   
            </figure>
            <p>
                     At this point I charged ahead with improving auto calibration.
                     Hangprinter has had a kind of working auto calibration since 2017, but it had many problems.
                     Ironically, it was labor intensive and kind of unreliable.
                   
            </p>
            <p>
                     Auto calibration is a dynamic process where one gcode is sent, then some time passes, physics happens (is simulated),
               a measurement is done and handled, then some more lines of gcode etc.
                     Clearly, the "batch mode" dumps of motor commands I had been using did not suffice for developing auto calibration.
                   
            </p>
            <p>
                     I spent four days (Dec 2, 2025 - Dec 5, 2025) implementing a "server mode" that let's the host version of ReprapFirmware
               run idle and wait for gcodes sent to its http endpoint (I also built the whole http server).
                   
            </p>
            <p>
                     One of the problems of the old autocal was that it could not collect good data automatically.
                     So I spent three days (Dec 7, 2025 - Dec 9, 2025) scripting the interactions (sending gcode, wait, read reply etc) for
               collecting structured encoder data from a large area of a non-calibrated Slideprinter (or later also Hangprinter++).
                   
            </p>
            <p>
                     Another one of the problems of the old autocal was that it was too slow so I developed a new idea for autocalibration
               on Dec 9 and spent seven days (Dec 10, 2025 - Dec 16, 2025) implementing it and comparing it to the previous autocal method.
                     The results so far are promising, the new feature based method runs 10x faster and has the same accuracy as the (new
               improved version of the) old method.
                     The new method also succeeds every time, while the old one often needs a couple of tries.
                     Which one will perform best in 3d and with more diverse setups remains to be seen.
                   
            </p>
            <figure>
                     <a href="/blog/2025/bilder/Stop_and_Breathe.png">
                          <img src="/blog/2025/bilder/Stop_and_Breathe_small.png" alt="" width="500" height="333">
                        </a>
                     
               <figcaption>
                        
               </figcaption>
                   
            </figure>
            <h3>Stop and Breathe</h3>
            <p>
                     All of this work, from Jan 22 to today (Dec 17) was greatly sped up by various AI tools but also by the simulation itself.
                     Being able to test things right in the simulation has made experiments 10x cheaper, faster, and more pleasant.
                     I've literally run hundreds of experiments that helped my understanding of Hangprinter's software and mechanics,
                     each of which would have either been impossible or taken at least one day to do physically.
                   
            </p>
            <h3>Where is HP5?</h3>
            <p>
                     Still left to do is:
                   
            </p>
            <ul>
                     
               <li>Upgrading all of hp-sim from 2d to 3d.</li>
                     
               <li>Implementing spool simulation that includes realistic line buildup.</li>
                     
               <li>An actual physical HP5 design, with BOM, suggested layouts and verification of various design decisions in simulation.</li>
                     
               <li>A hp-sim mode to conduct batches of parallel experiments.</li>
                     
               <li>Support for rotational degrees of freedom. (6dof)</li>
                   
            </ul>
            <p>
                     If you want you can go and play with the simulation <a href="https://tobbelobb.github.io/hp-sim5/hp-sim/?gcode_ws=ws://localhost:8790">here</a>
                     Try clicking around. Many UI details are undocumented. I'm especially not proud of "Trace enabled, then triple right-click".
                     Some instructions on how to use the simulation is scattered around the <a href="https://github.com/tobbelobb/hp-sim5/">repo</a>.
                   
            </p>
            <p>
                     I'm including prompts and responses from the hp-sim5 repo <a href="/blog/2025/hp-sim5-prompts_dec_17_2025_2.md">here</a>.
                   
            </p>
            <p>
               - tobben
               
            </p>
            <div style="display: none">
               <time class="dt-published">2025-12-17T12:00:00Z</time><a class="u-url" href="https://torbjornludvigsen.com/blog/2025/index.html#hangprinter_project_84"></a><a rel="author" class="p-author h-card" href="https://torbjornludvigsen.com">
                  Torbj&oslash;rn Ludvigsen
                  <img class="u-photo" src="https://torbjornludvigsen.com/media/torbjornludvigsen_small.JPG" alt="Torbj&oslash;rn Ludvigsen"></a><span class="p-summary">
                  I spent 2025 simulating Hangprinter.
                      </span></div><br><br><br></article>
         <article class="h-entry">
            <h1 class="p-name" id="ai_stuff_1">Promps and Code</h1>
            <div class="date">8-10-2025</div>
            <p>
                     I've attempted AI coding for 2-3 years now, and my mind is increasingly blown.
                     Two or three LLMs later I think we'll start swapping out coding (in formal language) with prompting (in natural language)
               even more than we already do.
                     I have some insights about how this might look.
                   
            </p>
            <p>
                   The model doesn't think in English. Run the same prompt in Norwegian and English and you get similar behavior. The internal
               state isn't words but a shared feature space: text maps into it and back out again. If that space drives behavior, reproducibility
               depends on the inputs that shape it. Prompts and context are part of the build recipe.
                   
            </p>
            <p>
               In open codebases, compiler flags and build scripts are public, versioned, and replayable. Treat prompts the same way so anyone
               can rebuild the state that produced a change - GCC-style self-hosting for model-assisted code.
                   
            </p>
            <p>
               Formal languages map cleanly. They are precise, testable, and often mutually translatable, so they fit the internal representation.
               Hence model -&gt; code -&gt; compiler -&gt; machine code starts to look like a bootstrap loop: models generate code that generates
               more code. Like RepRap and compilers, it self replicates and will obviously grow geometrically (or exponentially, or just
               "explode"). We must, as usual with these tech developments, join the ustoppable wave, prepare for the explosion, and try to
               maybe steer the explosion towards ethical and humane outcomes.
                   
            </p>
            <p>
               To keep that loop trustworthy, record prompt, context, model version, and decoding settings alongside the emitted code, just
               like pinning toolchains and build flags. If the code is open, the prompt recipe should be open too, for the same reasons we
               publish Makefiles and CI specs.
                   
            </p>
            <p>
               What the loop actually looks like. Day to day: human or model -&gt; prompt -&gt; model -&gt; code or text -&gt; compiler/interpreter -&gt;
               machine code -&gt; processor -&gt; result. I judge the result, adjust prompt or context, and try again.
                   
            </p>
            <p>
               Models don't retain a whole program across calls, so source code remains the durable representation we share. To make that
               code self-reproducible, store the prompt/context bundle next to each commit, along with the exact model and decoding settings.
               Do it via a git hook or a hook in your LLM framework.
                   
            </p>
            <p>
               This doesn't replace code; it records how this version came to be and makes the repo rebuildable end-to-end, not just at the
               compiler boundary. We should bake an AI into every repo via the knowledge and intent we keep with it
                   
            </p>
            <p>
               - tobben
               
            </p>
            <div style="display: none">
               <time class="dt-published">2025-10-08T12:00:00Z</time><a class="u-url" href="https://torbjornludvigsen.com/blog/2025/index.html#ai_stuff_1"></a><a rel="author" class="p-author h-card" href="https://torbjornludvigsen.com">
                  Torbj&oslash;rn Ludvigsen
                  <img class="u-photo" src="https://torbjornludvigsen.com/media/torbjornludvigsen_small.JPG" alt="Torbj&oslash;rn Ludvigsen"></a><span class="p-summary">
                        I've attempted AI coding for 2-3 years now, and my mind is increasingly blown.
                        Two or three LLMs later I think we'll start swapping out coding (in formal language) with prompting (in natural language)
                  even more than we already do.
                        I have some insights about how this might look.
                      </span></div><br><br><br></article>
         <article class="h-entry">
            <h1 class="p-name" id="hangprinter_project_83">Simulation and HP5 Work</h1>
            <div class="date">24-9-2025</div>
            <p>
                       So I made a Slideprinter simulation, check it out at <a href="https://hangprinter.org/">hangprinter.org</a>.
                   
            </p>
            <video width="500" controls="true">
                     
               <source src="/blog/2025/bilder/fast_print_simulator.webm" type="video/webm"></source>
                   
            </video>
            <p>It's really cool because it simulates many aspects of a real machine:</p>
            <ul>
                       
               <li>I wrote a whole library to simulate the lines. Check out <a href="https://github.com/tobbelobb/hp-sim5/">hp-sim5</a>. This has been a grueling multi-month effort. Good cable/line simulation is not widely available from anywhere else.
               </li>
                       
               <li>The simulation runs on a state-of-the-art XPBD time loop that stays close to physical reality.</li>
                       
               <li>The move commands comes from real Klipper, with a real Hangprinter config.</li>
                       
               <li>Klipper can stream commands to the simulaton too (only recommended if a real mcu is attached, or you run klipper_mcu on a
                  realtime linux kernel).
               </li>
                       
               <li>The simulated steppers can lose steps; their torque varies with speed and load.</li>
                       
               <li>Spools can be clicked, grabbed, and pulled with your mouse or touch screen.</li>
                       
               <li>Simulation speed can be cranked up 100s of times beyond realtime for faster experiments.</li>
                       
               <li>The logo print simulation tracks millions of individual step pulses and micrograms of deposited material.</li>
                       
               <li>It's implemented both in Javascript and in Python.</li>
                       
               <li>The whole machine and its simulation scene and config is described in a file format called USD, see <a href="https://github.com/tobbelobb/hp-sim5/blob/main/examples/usd_scenes/slideprinter.usda">slideprinter.usda</a>, which enables us to be data-driven, but also compatibility with various 3d modelling, reinforcement learning, and simulation
                  softwares such as Blender and Isaac Sim.
               </li>
                       
               <li>The cable solver models slack, stretch, wrap, and friction straight from that USD geometry, keeping the kinematics honest.</li>
                       
               <li>The Python build can hand off the same solver to NVIDIA Warp, so long jobs can use the GPU.</li>
                     
            </ul>
            <p>
                     I think simulations are most important part of the Hangprinter Project.
                     I'd like to automate the hardware design and fw configuration.
                     We just now became able to quantify comparisons between Hangprinter hardware+config setups.
                     Just measure how close the tool head is to an optimal route at all times, compared to the exact positions in the gcode
               file.
                     Optimize over CAD parameters and config values, and write a simple cost function.
                   
            </p>
            <p>
                     So I'll keep focusing on simulation, not hardware.
                     But it's good to have ideas of cost regardless, especially since we have to integrate tightly with a firmware in order
               to simulate.
                     The firmware implies ceirtain hardware which implies cost.
                   
            </p>
            <h2>Cost Estimates</h2>
            <p>
                     I computed some BOM cost estimates for various alternatives for the HP5 today. It includes three versions I've been
               thinking about.
                     All cost estimates assume Swedish taxes and shipping, plus a 10% inflation in all prices since 2021.
                     The full spreadsheet is available <a href="/blog/2025/hangprinter_v5_boms.ods">here</a>.
                   
            </p>
            <h3>Baseline v5 (Roughly HP Performance)</h3>
            <div id="spreadsheet-container"></div><style>
      #spreadsheet-container {
        overflow-anchor: none;
        overscroll-behavior: contain;
      }
    </style><link href="https://unpkg.com/tabulator-tables@5.6.1/dist/css/tabulator.min.css" rel="stylesheet"><script type="text/javascript" src="https://unpkg.com/tabulator-tables@5.6.1/dist/js/tabulator.min.js"></script><script>
      const table = new Tabulator("#spreadsheet-container", {
        nestedFieldSeparator: "|",
        height: "200px",
        layout: "fitDataFill",
        placeholder: "Loading...",

        ajaxURL: "/blog/2025/hangprinter_v5_boms_baseline_v5.json",

        columns: [
          {title: "Item", field: "Item", headerFilter: "input", resizable: true},
          {title: "Quantity", field: "Quantity", headerFilter: "input", resizable: true},
          {title: "Price_USD", field: "Price_USD", headerFilter: "input", resizable: true, formatter: "money", formatterParams:{
            symbol:"$",
            precision:0,
        }},
        ],
      });
    </script><p>
                     This is the machine that the HP4 prototype was always meant to be. ODrive S1 boards, Motion tracking with Arducam, Duet3
               6XD board etc.
                     <b>Cost:</b> 2500 USD
                   
            </p>
            <p>
                     <b>Software work required:</b> We'd need to implement the Duet CAN Protocol in the ODrive firmware, which is hard, and the machine will be useless until
               it's done.
                     We could dodge this hard sw work with 5 x 1XD boards, but that brings total cost up by 384 USD, to 2840 USD and defeats
               some of the purpose with the HP5/HP Performance.
                   
            </p>
            <h3>Duet HCL Nema v5 (Roughly HP Convenience)</h3>
            <div id="spreadsheet-container2"></div><style>
      #spreadsheet-container2 {
        overflow-anchor: none;
        overscroll-behavior: contain;
      }
    </style><script>
      const table2 = new Tabulator("#spreadsheet-container2", {
        nestedFieldSeparator: "|",
        height: "200px",
        layout: "fitDataFill",
        placeholder: "Loading...",

        ajaxURL: "/blog/2025/hangprinter_v5_boms_duet_hcl_nema17.json",

        columns: [
          {title: "Item", field: "Item", headerFilter: "input", resizable: true},
          {title: "Quantity", field: "Quantity", headerFilter: "input", resizable: true},
          {title: "Price_USD", field: "Price_USD", headerFilter: "input", resizable: true, formatter: "money", formatterParams:{
            symbol:"$",
            precision:0,
        }},
        ],
      });
    </script><p>
                     The smallest change to get away from BLDC and ODrive, dodging protocol implementation work and cost, sacreficing performance.
                     The 5 x ODrive S1s are swapped with Duet's closed loop stepper drivers (<a href="https://www.duet3d.com/duet-3-expansion-1hcl">Duet3 Expansion 1HCL</a>), and the 5 x BLDC motors are swapped for a standard set of Nema17 motors.
                     <b>Cost:</b> 1750 USD
                     If we skip the encoders for this option, cost is down to ca 1600 USD.
                   
            </p>
            <p>
                     <b>Software work required:</b> We would need to do implement torque mode in the expansion board and Duet CAN Protocol. That shouldn't be too hard, and the
               machine can be useful without it as well.
                   
            </p>
            <h3>Klipper Driven HP5 (Roughly HP Core)</h3>
            <div id="spreadsheet-container3"></div><style>
      #spreadsheet-container3 {
        overflow-anchor: none;
        overscroll-behavior: contain;
      }
    </style><script>
      const table3 = new Tabulator("#spreadsheet-container3", {
        nestedFieldSeparator: "|",
        height: "200px",
        layout: "fitDataFill",
        placeholder: "Loading...",

        ajaxURL: "/blog/2025/hangprinter_v5_boms_klipper_nema17_ebb42.json",

        columns: [
          {title: "Item", field: "Item", headerFilter: "input", resizable: true},
          {title: "Quantity", field: "Quantity", headerFilter: "input", resizable: true},
          {title: "Price_USD", field: "Price_USD", headerFilter: "input", resizable: true, formatter: "money", formatterParams:{
            symbol:"$",
            precision:0,
        }},
        ],
      });
    </script><p>
                     No closed loop control, no torque mode.
                     The Duet3, the 5 x ODrive S1s, and the 5 x BLDC motors are swapped with 5 microcontroller units and 5 Nema17 motors.
                     The 5 microcontroller units will be driven by Klipper running on the Raspberry Pi 5 via CAN and a USB to CAN bridge.
               Also, include one load sensor per anchor is included in this Klipper driven version.
                     <b>Cost:</b> 1050 USD
                     Adding closed loop to the Klipper Driven HP5 could come as cheap as 5x20 = 100 USD (<a href="https://www.ebay.com/itm/126266631121">source</a>) bringing total cost up to 1150 USD.
                   
            </p>
            <p>
                     <b>Software work required:</b> A lot. Klipper's Hangprinter support is very basic. But although its a lot of work, none of the work is very hard, since
               it's mainly re-implementation into Python,
                     and we have the simulator to quickly test everything. The machine is potentially useful even without software upgrades,
               since the basic Hangprinter support in Klipper already does work.
                   
            </p>
            <h3>Thoughts</h3>
            <p>
                     The Duet options might still make sense for those who need performance and with the minimal changes compared to something
               that has been built proven to work (the HP4 prototype).
                     The Klipper option makes most sense to work on for people who want to go cheap and develop, and still maintain the possibility
               of adding performance later.
                   
            </p>
            <p>
               - tobben
               
            </p>
            <div style="display: none">
               <time class="dt-published">2025-09-24T12:00:00Z</time><a class="u-url" href="https://torbjornludvigsen.com/blog/2025/index.html#hangprinter_project_83"></a><a rel="author" class="p-author h-card" href="https://torbjornludvigsen.com">
                  Torbj&oslash;rn Ludvigsen
                  <img class="u-photo" src="https://torbjornludvigsen.com/media/torbjornludvigsen_small.JPG" alt="Torbj&oslash;rn Ludvigsen"></a><span class="p-summary">
                          So I made a Slideprinter simulation, check it out at hangprinter.org.
                      </span></div><br><br><br></article><br><br><br><br><br><br><br><br><h1 id="Links">
            Links
            
         </h1>
         <p>
            Yearly archive: <a href="/blog/2014">2014</a>, <a href="/blog/2015">2015</a>, <a href="/blog/2016">2016</a>, <a href="/blog/2017">2017</a>, <a href="/blog/2018">2018</a>, <a href="/blog/2020">2020</a>, <a href="/blog/2021">2021</a>, <a href="/blog/2022">2022</a>, <a href="/blog/2023">2023</a></p>
         <p>
            Hangprinter Project: <a href="/blog/2014#Hangprinter">[1]</a>,
            <a href="/blog/2015#Slideprinter_Update">[2]</a>,
            <a href="/blog/2015#hangprinter_project_2">[3]</a>,
            <a href="/blog/2015#hangprinter_project_3">[4]</a>,
            <a href="/blog/2015#hangprinter_project_4">[5]</a>,
            <a href="/blog/2015#hangprinter_project_5">[6]</a>,
            <a href="/blog/2015#hangprinter_project_6">[7]</a>,
            <a href="/blog/2015#hangprinter_project_7">[8]</a>,
            <a href="/blog/2015#hangprinter_project_8">[9]</a>,
            <a href="/blog/2015#hangprinter_project_9">[10]</a>,
            <a href="/blog/2015#hangprinter_project_10">[11]</a>,
            <a href="/blog/2015#hangprinter_project_11">[12]</a>,
            <a href="/blog/2015#hangprinter_project_12">[13]</a>,
            <a href="/blog/2015#hangprinter_project_13">[14]</a>,
            <a href="/blog/2015#hangprinter_project_14">[15]</a>,
            <a href="/blog/2015#hangprinter_project_15">[16]</a>,
            <a href="/blog/2015#hangprinter_project_16">[17]</a>,
            <a href="/blog/2015#hangprinter_project_17">[18]</a>,
            <a href="/blog/2015#hangprinter_project_18">[19]</a>,
            <a href="/blog/2016#hangprinter_project_19">[20]</a>,
            <a href="/blog/2016#hangprinter_project_20">[21]</a>,
            <a href="/blog/2016#hangprinter_project_21">[22]</a>,
            <a href="/blog/2016#hangprinter_project_22">[23]</a>,
            <a href="/blog/2016#hangprinter_project_23">[24]</a>,
            <a href="/blog/2016#hangprinter_project_24">[25]</a>,
            <a href="/blog/2016#hangprinter_project_25">[26]</a>,
            <a href="/blog/2016#hangprinter_project_26">[27]</a>,
            <a href="/blog/2016#hangprinter_project_27">[28]</a>,
            <a href="/blog/2017#hangprinter_project_28">[29]</a>,
            <a href="/blog/2017#hangprinter_project_29">[30]</a>,
            <a href="/blog/2017#hangprinter_project_30">[31]</a>,
            <a href="/blog/2017#hangprinter_project_31">[32]</a>,
            <a href="/blog/2017#hangprinter_project_32">[33]</a>,
            <a href="/blog/2017#hangprinter_project_33">[34]</a>,
            <a href="/blog/2017#hangprinter_project_34">[35]</a>,
            <a href="/blog/2017#hangprinter_project_35">[36]</a>,
            <a href="/blog/2017#hangprinter_project_36">[37]</a>,
            <a href="/blog/2017#hangprinter_project_37">[38]</a>,
            <a href="/blog/2017#hangprinter_project_38">[39]</a>,
            <a href="/blog/2017#hangprinter_project_39">[40]</a>,
            <a href="/blog/2017#hangprinter_project_40">[41]</a>,
            <a href="/blog/2017#hangprinter_project_41">[42]</a>,
            <a href="/blog/2017#hangprinter_project_42">[43]</a>,
            <a href="/blog/2017#hangprinter_project_43">[44]</a>,
            <a href="/blog/2017#hangprinter_project_44">[45]</a>,
            <a href="/blog/2017#hangprinter_project_45">[46]</a>,
            <a href="/blog/2017#hangprinter_project_46">[47]</a>,
            <a href="/blog/2017#hangprinter_project_47">[48]</a>,
            <a href="/blog/2017#hangprinter_project_48">[49]</a>,
            <a href="/blog/2017#hangprinter_project_49">[50]</a>,
            <a href="/blog/2017#hangprinter_project_50">[51]</a>,
            <a href="/blog/2018#hangprinter_project_51">[52]</a>,
            <a href="/blog/2018#hangprinter_project_52">[53]</a>,
            <a href="/blog/2018#hangprinter_project_53">[54]</a>,
            <a href="/blog/2018#hangprinter_project_54">[55]</a>,
            <a href="/blog/2018#hangprinter_project_55">[56]</a>,
            <a href="/blog/2018#hangprinter_project_56">[57]</a>,
            <a href="/blog/2018#hangprinter_project_57">[58]</a>,
            <a href="/blog/2018#hangprinter_project_58">[59]</a>,
            <a href="/blog/2018#hangprinter_project_59">[60]</a>,
            <a href="/blog/2018#hangprinter_project_60">[61]</a>,
            <a href="/blog/2018#hangprinter_project_61">[62]</a>,
            <a href="/blog/2018#hangprinter_project_62">[63]</a>,
            <a href="/blog/2020#hangprinter_project_63">[64]</a>,
            <a href="/blog/2020#hangprinter_project_64">[65]</a>,
            <a href="/blog/2020#hangprinter_project_65">[66]</a>,
            <a href="/blog/2020#hangprinter_project_66">[67]</a>,
            <a href="/blog/2020#hangprinter_project_67">[68]</a>,
            <a href="/blog/2020#hangprinter_project_68">[69]</a>,
            <a href="/blog/2021#hangprinter_project_69">[70]</a>,
            <a href="/blog/2021#hangprinter_project_70">[71]</a>,
            <a href="/blog/2021#hangprinter_project_71">[72]</a>,
            <a href="/blog/2021#hangprinter_project_72">[73]</a>,
            <a href="/blog/2021#hangprinter_project_73">[74]</a>,
            <a href="/blog/2021#hangprinter_project_74">[75]</a>,
            <a href="/blog/2021#hangprinter_project_75">[76]</a>,
            <a href="/blog/2021#hangprinter_project_76">[77]</a>,
            <a href="/blog/2022#hangprinter_project_77">[78]</a>,
            <a href="/blog/2022#hangprinter_project_78">[79]</a>,
            <a href="/blog/2022#hangprinter_project_79">[80]</a>,
            <a href="/blog/2023#hangprinter_project_80">[81]</a>,
            <a href="/blog/2023#hangprinter_project_81">[82]</a></p>
         <p>
            Hangprinter Campaign: <a href="https://github.com/sponsors/tobbelobb/">Github Sponsors</a></p>
         <p>
            Hangprinter Merchandise USA: <a href="https://shop.spreadshirt.com/hangprinter-merchandise/">Spreadshirt.com</a></p>
         <p>
            Hangprinter Merchandise Sweden: <a href="https://shop.spreadshirt.se/hangprinter-merchandise/">Spreadshirt.se</a></p>
         <p>
            Hangprinter Project Homepage: <a href="https://hangprinter.org">hangprinter.org</a></p>
         <p>
            Print Issue Solution Filter Project: <a href="/blog/2014#Introducing_PISF">[1]</a>,
            <a href="/blog/2014#Presenting_PISF_Again">[2]</a>,
            <a href="/blog/2014#PISF_Online_Sort_Of">[3]</a>,
            <a href="/blog/2014#PISF">[4]</a></p>
         <p>
            Sourcing RepRappro Mendel in Larvik: <a href="/blog/2014#Sourcing_Mendel_1">[1]</a>,
            <a href="/blog/2014#Sourcing_Mendel_2">[2]</a>,
            <a href="/blog/2014#Sourcing_Mendel_3">[3]</a>,
            <a href="/blog/2014#Sourcing_Mendel_4">[4]</a>,
            <a href="/blog/2014#Sourcing_Mendel_5">[5]</a>,
            <a href="/blog/2014#Sourcing_Mendel_6">[6]</a>,
            <a href="/blog/2014#Sourcing_Mendel_7">[7]</a></p>
         <p>
            Github Profile: <a href="https://github.com/tobbelobb/">link</a><br></p>
         <p>
            Gitlab Profile: <a href="https://gitlab.com/tobben">link</a><br></p>
         <p>
            Hangprinter project on Gitlab: <a href="https://gitlab.com/hangprinter">link</a><br></p>
         <p>
            Vimeo User: <a href="https://vimeo.com/user23166500">link</a><br></p>
         <p>
            Youtube User: <a href="https://www.youtube.com/channel/UCw1Nz0VCw4z-dfq4WjSkFzQ">link</a><br></p>
         <p>
            Twitter User: <a href="https://twitter.com/tobbelobb">link</a><br></p>
         <p>
            Instagram User: <a href="https://www.instagram.com/torbjorn.ludvigsen/">link</a><br></p>
         <p>
            Master's Thesis: <a href="http://opensourceecology.org/wiki/File:Thesis.pdf">link</a><br></p>
         <p>
            Linkedin Profile: <a href="https://se.linkedin.com/in/torbjorn-ludvigsen">link</a><br></p>
         <p>
            Appropedia User: <a href="http://www.appropedia.org/User:Tobben">link</a><br></p>
         <p>
            RepRap Forums User: <a href="http://forums.reprap.org/profile.php?1,22385">link</a></p>
         <p>
            Forums threads: <a href="http://forums.reprap.org/read.php?178,344022">Hangprinter version 1</a>,
            <a href="http://forums.reprap.org/read.php?1,738858">Hangprinter version 2</a>,
            <a href="http://forums.reprap.org/read.php?1,792937">Hangprinter version 3</a>,
            <a href="https://reprap.org/forum/list.php?423">List of Hangprinter threads</a></p>
         <p>
            Source for this blog: <a href="https://gitlab.com/tobben/tbear_blogg">Gitlab repo</a></p>
         <p>
            Everything on this homepage, except those videos who are published via Vimeo or Youtube, is licensed under the <a href="https://www.gnu.org/licenses/fdl">Gnu Free Documentation License</a>.
            The videos published via Vimeo or Youtube are also licensed via Vimeo or Youtube.
            
         </p>
      </div>
      <div class="h-card" style="display: none"><a class="u-url" rel="me" href="https://www.torbjornludvigsen.com">torbjornludvigsen.com</a><span class="p-name" rel="me">Torbj&oslash;rn Ludvigsen</span><span class="p-nickname">tobben</span><img class="u-photo" src="https://torbjornludvigsen.com/media/torbjornludvigsen_small.JPG" alt="Torbj&oslash;rn Ludvigsen"><span class="p-locality">Gothenburg</span></div><script src="/js/cart.js"></script><script src="/js/lib.js"></script><script type="text/javascript">
  MathJax.Hub.Configured()
</script><script src="/js/pages_script.js"></script><script src="/js/swipe_menu.js"></script><script data-goatcounter="https://torbjornludvigsen.goatcounter.com/count" async="true" src="//gc.zgo.at/count.js"></script></body>
</html>