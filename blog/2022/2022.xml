<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="blogtemplate.xsl"?>
<posts year="2022">
  <post id="hangprinter_project_79" heading="Solving Hangprinter's Biggest Problem" date="27-3-2022">
    <p>
      So you've mounted your Hangprinter hardware.
      You've threaded all the lines and attached all the anchors.
      Motors are spinning.
    </p>
    <p>
      Now there's just the configuration left and you're good to go! Weeee! =)=)=)
    </p>
    <p>
      Ehem. Not so fast. Hangprinter configuration is very involved.
      More than 25 values to get right, and doing so manually takes a lot of effort and training.
      There's anchor locations, spool buildup factor (ie line thickness), line stiffness, spool radii (including unused line length), various types of gearing and so on.
    </p>
    <p>
      How is a user supposed to keep up with that?
      How to give efficient support?
    </p>
    <h3>âœ¨Solution: Run The Motion Control in Reverseâœ¨</h3>
    <p>
      What if you could ask your Hangprinter "am I doing it right?".
      For the time being, you can't ask your Hangprinter directly, but you can ask
      <a href="https://gitlab.com/tobben/auto-calibration-simulation-for-hangprinter">auto-calibration-simulation-for-hangprinter</a>'s simulation.py program this question.
    </p>
  </post>
  <post id="hangprinter_project_78" heading="Hangprinter v4 and Hangprinter v5" date="27-3-2022">
    <p>
      Hangprinter is a cable-driven robot.
      HP4 is the latest version.
    </p>
    <!--p>
      For a cable-driven robot to be reliable and enjoyable to use it must be fully automated.
      The only thing we can rely on humans to enjoy doing is mounting stationary anchors.
      The machine must measure its own positions, line tensions, and calibration values.
      It must jump to life like magic, based on software without bugs.
      Anything less is a support nightmare.
    </p-->
    <p>
      Goal for HP4 development was to create a reliable workhorse, that people enjoy using, for profit.
      That sounds a bit like magic.
      HP4, like any kind of magic, is complex and slow to develop.
      <!--It's the kind of project that boards of directors love to shut down.-->
    </p>
    <p>
      I've made a list of HP4's features, as well as some plans for the v5.
    </p>
    <h3>ðŸŽ  HP4's Unique Features ðŸŽ </h3>
    <p>
      <ul>
        <li>Space Below Is Completely Cleared When Parked</li>
        <ul>
          <li>Takes 5 Min to Park. (<a href="https://twitter.com/tobbelobb/status/1507390473706643456">1</a>, <a href="https://twitter.com/tobbelobb/status/1507394479501811717">2</a>)</li>
        </ul>
        <li>Supports Any Placement of Motor and Electronics, enabled by</li>
        <ul>
          <li>CAN Driven Communication</li>
          <li>All Axes Are Conceptually Identical (<a href="https://github.com/Duet3D/RepRapFirmware/pull/554">1</a>)</li>
          <li>Pre-Defined Placement is Also Avaliable as DXF/PDF (<a href="https://twitter.com/tobbelobb/status/1403282393784541191">1</a>)</li>
        </ul>
        <li>Slack Tolerance and Servicability, enabled by</li>
        <ul>
          <li>Thick Stiff Wear Resistant Lines (<a href="https://youtu.be/K_fQpvZ3oeA">1</a>)</li>
          <li>Completely Closed Line Paths</li>
          <li>Ceramic Eyelets &amp; U-shaped Bearings Everywhere</li>
          <li>Little Risk of Lines Falling Off, Tangling, or Getting Stuck</li>
          <li>Parts Along Line Path Can Be Mounted/Serviced Whithout Unthreading (<a href="https://youtu.be/CsXr_lqhI90">1</a>)</li>
        </ul>
        <li>High Speeds (~900 mm/s) (<a href="https://twitter.com/tobbelobb/status/1484209682420019206">1</a>), enabled by</li>
        <ul>
          <li>High Quality BLDC Motors</li>
          <li>Lots of Processing Power</li>
        </ul>
        <li>Self-Calibration (<a href="https://youtu.be/As3Y5J2NTGA">1</a>), enabled by</li>
        <ul>
          <li>Built-in Motion Tracking (<a href="https://twitter.com/tobbelobb/status/1466773203938852870">1</a>)</li>
          <li>Built-in Force Sensing (<a href="https://github.com/Duet3D/RepRapFirmware/pull/564">1</a>)</li>
          <li>Few Hand-Measurements are Needed</li>
        </ul>
        <li>High Precision and Accuracy (<a href="https://twitter.com/tobbelobb/status/1473344630842445832">1</a>, <a href="https://twitter.com/tobbelobb/status/1472947513191768065">2</a>, <a href="https://twitter.com/tobbelobb/status/1433384365023715328">3</a>, <a href="https://twitter.com/tobbelobb/status/1430218354971848713">4</a>, <a href="https://www.youtube.com/watch?v=qdRI0cvxagU">5</a>, <a href="https://twitter.com/tobbelobb/status/1383821508238143491">6</a>, <a href="https://twitter.com/tobbelobb/status/1130065984881070080">7</a>, <a href="https://twitter.com/tobbelobb/status/1128704338162016262">8</a>), enabled by:</li>
        <ul>
          <li>Motion Tracking (<a href="https://twitter.com/tobbelobb/status/1466773203938852870">1</a>)</li>
          <li>Force Sensing (<a href="https://github.com/Duet3D/RepRapFirmware/pull/564">1</a>)</li>
          <li>Flex Compensation. (<a href="https://twitter.com/tobbelobb/status/1503840578236264455">1</a>, <a href="https://github.com/Duet3D/RepRapFirmware/pull/562">2</a>)</li>
          <li>Spool Buildup Compensation (<a href="https://twitter.com/tobbelobb/status/1084185594497064961">1</a>)</li>
          <li>Mechanical Bed Probe (<a href="https://twitter.com/tobbelobb/status/1458823899827871754">1</a>)</li>
          <li>Direct Connection Between Motors and Tip of Tool Head. (<a href="https://twitter.com/tobbelobb/status/1508519679970664459/video/1">1</a>, <a href="https://twitter.com/tobbelobb/status/1123626333958021122">2</a>)</li>
          <li>High Number &amp; Wide Apart Line Force Points Stabilizing Effector</li>
        </ul>
        <li>User Friendliness, enabled by</li>
        <ul>
          <li>Plug-and-Play Compatible With Wide Range of Tool Heads and Materials</li>
          <ul>
            <li>Plastic Filament</li>
            <li>Plastic Pellets</li>
            <li>Clay</li>
            <li>Pen-plotting (standard HP4 plotting tool available). (<a href="https://twitter.com/tobbelobb/status/1460974351931654144">1</a>)</li>
          </ul>
          <li>Web GUI via Wifi</li>
          <li>Gcode Macros, User-Defined and Pre-Defined</li>
          <li>Mesh Bed Compensation With Mechanical Probe (<a href="https://twitter.com/tobbelobb/status/1458823899827871754">1</a>)</li>
          <li>Risk of Line Collision Detected Before Print (<a href="https://twitter.com/tobbelobb/status/1282801692757696513">1</a>, <a href="https://twitter.com/tobbelobb/status/1280787224519417856">2</a>)</li>
          <li>Stock Firmwares Means Updates Come For Free</li>
          <li>Torque Mode (<a href="https://vimeo.com/227891846">1</a>)</li>
        </ul>
        <li>Safety, enabled by</li>
        <ul>
          <li>Mechanical Line Release Mechanism (<a href="https://twitter.com/tobbelobb/status/1410903567473459202">1</a>)</li>
          <li>Low Max Current Through Motors</li>
          <li>Various Fault Detection Mechanisms in Driver Software</li>
          <li>Heat-resistant hose to protect electric wires from hot parts (<a href="https://twitter.com/tobbelobb/status/1444007666255384584">1</a>)</li>
          <li>Hoist &amp; Lower the Ceiling Unit Easily. No ladders required for maintenance. (<a href="https://twitter.com/tobbelobb/status/1428025129406238723">1</a>).</li>
        </ul>
        <li>Heavy Duty Effector</li>
        <ul>
          <li>Gear Up/Down With Block &amp; Talley System. (<a href="https://twitter.com/tobbelobb/status/1428702006844305413">1</a>)</li>
          <li>Direct Connection Between Motors and Tip of Tool Head. (<a href="https://twitter.com/tobbelobb/status/1508519679970664459/video/1">1</a>, <a href="https://twitter.com/tobbelobb/status/1123626333958021122">2</a>)</li>
        </ul>
        <li>Smooth As Butter Motion System, enabled by</li>
        <ul>
          <li>Belt Transmission Between Motor And Spool</li>
          <li>Anti-Cogging. Motor Drivers Cancel Out Unevenness Inside Motors. (<a href="https://twitter.com/tobbelobb/status/1405475942286376965">1</a>)</li>
        </ul>
        <li>Scales Up To Several Cubic Meters, enabled by</li>
        <ul>
          <li>Automatic Length Control of Hanging Electrical Wires (<a href="https://twitter.com/tobbelobb/status/1451208751692894210">1</a>)</li>
          <li>Support for Extra Backing-Line</li>
          <li>Support for Changing Anchor Placements Manually During Print</li>
        </ul>
        <li>The Cheapest to Transport Big 3d Printer, enabled by</li>
        <ul>
          <li>Being a cable driven robot. (<a href="https://twitter.com/tobbelobb/status/1497141161961664529">1</a>)</li>
        </ul>
      </ul>
    </p>
    <p>
      That was 12 selling points for HP4.
      Nine of them are new since HP3.
      So HP4 is a cosmic upgrade.
    </p>
    <h3>ðŸš€ HP5's Planned Upgrades ðŸš€</h3>
    <p>
      <ul>
        <li>More Compact While Printing, enabled by</li>
        <ul>
          <li>A Fifth Motion Axis, similar to the four we already have. Adding one more low anchor would allow better working angles, and hence less wasted space.</li>
          <li>A Narrower, Taller Effector</li>
        </ul>
        <li>Lower Price, enabled by</li>
        <ul>
          <li>New circuit boards that are not yet available.</li>
        </ul>
        <li>Support for House-Size Printing, enabled by</li>
        <ul>
          <li>New motor controller and driver boards that are not yet available. They can handle the larger currents that are needed.</li>
          <li>Scaled up parts in general.</li>
        </ul>
        <li>Simpler Setup, enabled by</li>
        <ul>
          <li>New motor controller and driver boards that are not yet available. Will remove need for step/dir wires and external encoders, and give better force data.</li>
          <li>The computer vision system finding initial marker positions automatically.</li>
          <li>Pre-calibrated low distortion cameras. Manual camera calibration is too much hassle.</li>
          <li>A Ready-to-buy Bed Surface, Possibly a Thin Film With LEDs or Retro-reflective circles built in</li>
        </ul>
        <li>Better Computer Vision, enabled by</li>
        <ul>
          <li>Using multiple cameras. Their data can be combined to more than halve the error by weighting, so each camera mostly measure position parallel to its own image plane, not along the depth-direction.</li>
          <li>Active LEDs used as markers</li>
          <li>Faster maker detection &amp; identification through not searching whole image, using threads, ID via Aruco tags, etc.</li>
        </ul>
        <li>Automatic Homing, enabled by</li>
        <ul>
          <li>Computer Vision, Force Sensing, Mechanical Probing, and Torque Mode used together.</li>
        </ul>
        <li>Press Power-Press Print Experience, enabled by</li>
        <ul>
          <li>Automatic Homing</li>
          <li>Tighter Integration of Computer Vision</li>
        </ul>

        <li>Perfect Quality Control, enabled by</li>
        <ul>
          <li>Dynamic measurement and compensation for position and line tightness errors during print.</li>
        </ul>
        <li>Absolute Encoders. They can start up completely still and give stiffer motor axles, without adding cost (due to better circuit boards that are not yet available).</li>
      </ul>
    </p>
    <p>
      So the HP5 will be a big upgrade, although smaller than the HP4 was.
      Hopefully, HP5 will be designed and tested faster than HP4 was (which took four years).
    </p>
    <p>
      The HP4 has impressed me and shown very much promise so far.
      Compared to HP3 it's a dream to use.
      It has encouraged me to continue along this design path.
    </p>
    <p>
      I think it's successor, the Hangprinter v5, could become a real winner, a design that's very hard to optimize further,
      and a good candidate for mass manufacturing.
      I've written about local design optimums before.
      I think HP5 could be one.
    </p>
  </post>
  <post id="hangprinter_project_77" heading="Projects as Subtractive Processes" date="25-1-2022">
    <p>
      Technical projects are often thought of as additive processes.
      Engineers will often say that they're makers or builders of new products or technologies,
      adding value to something, or that they're designing a new solution.
    </p>
    <p>
      Those are all useful ways to describe technology development,
      but it can also be good to describe projects with subtractive terms,
      as in "we're removing obstacles".
      I think I need some of that.
    </p>
    <figure>
      <a href="./bilder/wall_p1_shiny_1.JPG">
        <img src="./bilder/wall_p1_shiny_1_small.JPG" alt="" width="500" height="298"/>
      </a>
      <figcaption>
      </figcaption>
    </figure>
    <p>
      Let's make a little model of (or remove confusion about) projects in general, to explain the image above.
    </p>
    <p>
      Imagine that every technical project is carving out a hole in a wall that separates a user or consumer from something desirable. <br />
    </p>
    <figure>
      <a href="./bilder/wall_p1_shiny_2.JPG">
        <img src="./bilder/wall_p1_shiny_2_small.JPG" alt="" width="500" height="322"/>
      </a>
      <figcaption>
      </figcaption>
    </figure>
    <p>
      Obstacles can be categorized and layered. Different projects have different kinds and amounts of layers.
    </p>
    <figure>
      <a href="./bilder/wall_p2_shiny_1.JPG">
        <img src="./bilder/wall_p2_shiny_1_small.JPG" alt="" width="500" height="243"/>
      </a>
      <figcaption>
      </figcaption>
    </figure>
    <p>
      Let's look at the lowest layer. Before one starts a project, it's important to learn if the desired outcome conflicts with the laws of physics. Don't start a project where laws of physics stand between your user and success.
    </p>
    <p>
      So product creation is a subtractive process, removing obstacles between the user and some desirable outcome.
    </p>
    <p>
      To maximize the field of view for the consumer through the hole, we should shape it like this, ideally:
    </p>
    <figure>
      <a href="./bilder/wall_p3_shiny_1.JPG">
        <img src="./bilder/wall_p3_shiny_1_small.JPG" alt="" width="500" height="323"/>
      </a>
      <figcaption>
      </figcaption>
    </figure>
    <p>
      The field of view metaphor says that the more unknown or fundamental problems should be removed more thoroughly, or require more work per user happiness.
    </p>
    <p>
      But product creation is a process. We need to plan some steps between start and finish.
    </p>
    <p>
      The process is often designed to secure sustainable funding throughout the development process, like this:
    </p>
    <figure>
      <a href="./bilder/wall_p4_shiny_1.JPG">
        <img src="./bilder/wall_p4_shiny_1_small.JPG" alt="" width="500" height="519"/>
      </a>
      <figcaption>
      </figcaption>
    </figure>
    <p>
      A well known but ambitious project, like quantum computing or a space mission, will look like a pit dug down from above,
      at least for the first few years.
      This shape makes people expect breakthroughs.
    </p>
    <p>
      An in-house product development or research project, will look more like a cone shape drilling up from below.
      The shape of invisible ground work.
      This shape makes people confused and surprised.
    </p>
    <p>
      The ideal final shape of a hole can also be discussed.
      A heavily marketed product looks good from afar, like this:
    </p>
    <figure>
      <a href="./bilder/wall_p5_shiny_1.JPG">
        <img src="./bilder/wall_p5_shiny_1_small.JPG" alt="" width="500" height="514"/>
      </a>
      <figcaption>
      </figcaption>
    </figure>
    <p>
      A more niched or indy-style product is invisible from afar, but looks good if you come up close, like this:
    </p>
    <figure>
      <a href="./bilder/wall_p5_shiny_2.JPG">
        <img src="./bilder/wall_p5_shiny_2_small.JPG" alt="" width="500" height="508"/>
      </a>
      <figcaption>
      </figcaption>
    </figure>
    <p>
      I think Hangprinter has become a product with goodness that is almost completely unapproachable, like this:
    </p>
    <figure>
      <a href="./bilder/wall_p6_shiny_1.JPG">
        <img src="./bilder/wall_p6_shiny_1_small.JPG" alt="" width="500" height="201"/>
      </a>
      <figcaption>
      </figcaption>
    </figure>
    <p>
      ... Or even this:
    </p>
    <figure>
      <a href="./bilder/wall_p6_shiny_2.JPG">
        <img src="./bilder/wall_p6_shiny_2_small.JPG" alt="" width="500" height="316"/>
      </a>
      <figcaption>
      </figcaption>
    </figure>
    <p>
      Or actually, most of the people that I want to reach haven't even heard about Hangprinter.
      Like the shape in the first image of this post, with no opening at the top.
    </p>
    <p>
      Among the hard-to-see and hard-to-use stars in the Hangprinter Project are the
      <a href="https://gitlab.com/hangprinter/line-collision-detector">line-collision-detector</a>,
      <a href="https://gitlab.com/tobben/hp-mark">hp-mark</a>, and
      <a href="https://gitlab.com/tobben/auto-calibration-simulation-for-hangprinter">auto-calibration-simulation-for-hangprinter</a>.
    </p>
    <p>
      I'm eager to add other low level features like line force measurements and various kinds of online adaptive algorithms to
      improve accuracy, precision, speed etc.
      Really eager.
    </p>
    <p>
      The subtractive way to look at Hangprinter makes it easier for me to wait, and instead focus more
      on getting the existing features to fit together.
      Sticking to what I wrote in the previous <a href="https://hangprinter.org/newsletter/#post_33">Hangprinter newsletter</a>.
    </p>
    <p>
      Anyways, I hope this home-made toy-model of a project can be useful or entertaining to you.
      Try it when you need to communicate project status or during project planning.
      Bye!
    </p>
  </post>
</posts>
